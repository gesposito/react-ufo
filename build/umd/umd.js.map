{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 3136912d3d678bc0a3d7","webpack:///umd.js","webpack:///external \"react\"","webpack:///./src/module/useFetchCallback.js","webpack:///./src/module/index.js","webpack:///./src/module/useFetchEffect.js","webpack:///./src/module/createResource.js","webpack:///./src/module/createResult.js"],"names":["root","factory","exports","module","define","amd","self","this","__webpack_require__","moduleId","installedModules","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","require","__webpack_exports__","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","Symbol","iterator","toString","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","Array","isArray","ownKeys","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread","target","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","obj","writable","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","Promise","then","_asyncToGenerator","fn","args","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_1__createResource__","__WEBPACK_IMPORTED_MODULE_2__createResult__","useFetchCallback","fetcher","defaultLoading","abortController","createAbortController","promise","rs","rj","callback","signal","setRequestState","resource","createResource","loading","data","aborted","abort","useCallback","useState","requestState","result","useRef","createResult","current","window","AbortController","console","warn","useFetchEffect","useEffect"],"mappings":"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","file":"umd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"react-ufo\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"react-ufo\"] = factory();\n\telse\n\t\troot[\"react-ufo\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3136912d3d678bc0a3d7","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"react-ufo\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"react-ufo\"] = factory();\n\telse\n\t\troot[\"react-ufo\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"react\");\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__createResource__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__createResult__ = __webpack_require__(6);\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n\n\n\n\nvar useFetchCallback = function useFetchCallback(fetcher) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$defaultLoading = _ref.defaultLoading,\n      defaultLoading = _ref$defaultLoading === void 0 ? false : _ref$defaultLoading;\n\n  var abortController = createAbortController();\n  var resolve;\n  var reject;\n  var promise = new Promise(function (rs, rj) {\n    resolve = rs;\n    reject = rj;\n  });\n\n  var callback =\n  /*#__PURE__*/\n  function () {\n    var _ref2 = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      var _abortController,\n          signal,\n          _len,\n          args,\n          _key,\n          data,\n          _args = arguments;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              abortController = createAbortController();\n              _abortController = abortController, signal = _abortController.signal;\n              setRequestState({\n                resource: Object(__WEBPACK_IMPORTED_MODULE_1__createResource__[\"a\" /* default */])({\n                  loading: true,\n                  error: null,\n                  data: null\n                }),\n                promise: promise\n              });\n              _context.prev = 3;\n\n              for (_len = _args.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = _args[_key];\n              }\n\n              _context.next = 7;\n              return fetcher.apply(void 0, args.concat([signal]));\n\n            case 7:\n              data = _context.sent;\n\n              //todo this needs test coverage:\n              //you might not propagate the signal to fetch API but still abort it\n              if (!signal.aborted) {\n                setRequestState(function (s) {\n                  return _objectSpread({}, s, {\n                    resource: Object(__WEBPACK_IMPORTED_MODULE_1__createResource__[\"a\" /* default */])({\n                      loading: false,\n                      error: null,\n                      data: data\n                    })\n                  });\n                });\n                resolve(data);\n              }\n\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](3);\n\n              if ((_context.t0 === null || _context.t0 === void 0 ? void 0 : _context.t0.name) !== 'AbortError') {\n                setRequestState(function (s) {\n                  return _objectSpread({}, s, {\n                    resource: Object(__WEBPACK_IMPORTED_MODULE_1__createResource__[\"a\" /* default */])(_objectSpread({}, s, {\n                      loading: false,\n                      error: _context.t0,\n                      data: null\n                    }))\n                  });\n                });\n                reject(_context.t0);\n              }\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 11]]);\n    }));\n\n    return function callback() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  callback.abort = function () {\n    setRequestState(function (s) {\n      return _objectSpread({}, s, {\n        resource: Object(__WEBPACK_IMPORTED_MODULE_1__createResource__[\"a\" /* default */])(_objectSpread({}, s, {\n          loading: false,\n          error: null,\n          data: null\n        }))\n      });\n    });\n    abortController.abort();\n  };\n\n  callback = Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useCallback\"])(callback, [fetcher]);\n\n  var _useState = Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useState\"])({\n    resource: Object(__WEBPACK_IMPORTED_MODULE_1__createResource__[\"a\" /* default */])({\n      loading: defaultLoading,\n      error: null,\n      data: null\n    }),\n    promise: promise\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      requestState = _useState2[0],\n      setRequestState = _useState2[1];\n\n  var result = Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useRef\"])(Object(__WEBPACK_IMPORTED_MODULE_2__createResult__[\"a\" /* default */])()).current;\n  result.resource = requestState.resource;\n  result.callback = callback;\n  result.promise = requestState.promise;\n  return result;\n};\n\nvar createAbortController = function createAbortController() {\n  var abortController;\n\n  if (window.AbortController) {\n    abortController = new window.AbortController();\n  } else {\n    // eslint-disable-next-line no-console\n    abortController = {\n      abort: function abort() {\n        return console.warn('react-ufo: you invocation of `.abort()` will do nothing because no `window.AbortController` was detected in your environment');\n      }\n    };\n  }\n\n  return abortController;\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (useFetchCallback);\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(3);\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__useFetchEffect__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__useFetchCallback__ = __webpack_require__(1);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"useFetchEffect\", function() { return __WEBPACK_IMPORTED_MODULE_0__useFetchEffect__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"useFetchCallback\", function() { return __WEBPACK_IMPORTED_MODULE_1__useFetchCallback__[\"a\"]; });\n\n\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__useFetchCallback__ = __webpack_require__(1);\n\n\n\nvar useFetchEffect = function useFetchEffect(fn) {\n  var result = Object(__WEBPACK_IMPORTED_MODULE_1__useFetchCallback__[\"a\" /* default */])(fn, {\n    defaultLoading: true\n  });\n  var callback = result.callback;\n  Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useEffect\"])(function () {\n    callback();\n    return function () {\n      callback.abort();\n    };\n  }, [callback]);\n  return result;\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (useFetchEffect);\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar createResource = function createResource(_ref) {\n  var loading = _ref.loading,\n      error = _ref.error,\n      data = _ref.data;\n  return _defineProperty({\n    loading: loading,\n    error: error,\n    data: data\n  }, Symbol.iterator,\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee() {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return this['loading'];\n\n          case 2:\n            _context.next = 4;\n            return this['error'];\n\n          case 4:\n            _context.next = 6;\n            return this['data'];\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (createResource);\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar createResult = function createResult() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      resource = _ref.resource,\n      callback = _ref.callback,\n      promise = _ref.promise;\n\n  return _defineProperty({\n    resource: resource,\n    callback: callback,\n    promise: promise\n  }, Symbol.iterator,\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee() {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return this['resource'];\n\n          case 2:\n            _context.next = 4;\n            return this['callback'];\n\n          case 4:\n            _context.next = 6;\n            return this['promise'];\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (createResult);\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// umd.js","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 0\n// module chunks = 0","import {useCallback, useRef, useState} from 'react'\nimport createResource from \"./createResource\"\nimport createResult from \"./createResult\"\n\nconst useFetchCallback = (fetcher, {defaultLoading = false} = {}) => {\n\n  let abortController = createAbortController()\n  let resolve\n  let reject\n  let promise = new Promise((rs, rj) => {\n    resolve = rs\n    reject = rj\n  })\n\n  let callback = async (...args) => {\n    abortController = createAbortController()\n    const {signal} = abortController\n    setRequestState({\n      resource: createResource({loading: true, error: null, data: null}),\n      promise\n    })\n    try {\n      const data = await fetcher(...args, signal)\n      //todo this needs test coverage:\n      //you might not propagate the signal to fetch API but still abort it\n      if (!signal.aborted) {\n        setRequestState((s) => ({...s, resource: createResource({loading: false, error: null, data})}))\n        resolve(data)\n      }\n    } catch (error) {\n      if (error?.name !== 'AbortError') {\n        setRequestState((s) => ({...s, resource: createResource({...s, loading: false, error, data: null})}))\n        reject(error)\n      }\n    }\n  }\n\n  callback.abort = () => {\n    setRequestState((s) => ({...s, resource: createResource({...s, loading: false, error: null, data: null})}))\n    abortController.abort()\n  }\n\n  callback = useCallback(callback, [fetcher])\n\n  let [requestState, setRequestState] = useState({\n    resource: createResource({\n      loading: defaultLoading,\n      error: null,\n      data: null\n    }),\n    promise\n  })\n\n  let result = useRef(createResult()).current\n  result.resource = requestState.resource\n  result.callback = callback\n  result.promise = requestState.promise\n\n  return result\n\n}\n\nconst createAbortController = () => {\n  let abortController\n  if (window.AbortController) {\n    abortController = new window.AbortController()\n  } else {\n    // eslint-disable-next-line no-console\n    abortController = {abort: () => console.warn('react-ufo: you invocation of `.abort()` will do nothing because no `window.AbortController` was detected in your environment')}\n  }\n  return abortController\n}\n\nexport default useFetchCallback\n\n\n// WEBPACK FOOTER //\n// ./src/module/useFetchCallback.js","import useFetchEffect from \"./useFetchEffect\"\nimport useFetchCallback from \"./useFetchCallback\"\n\nexport {useFetchEffect, useFetchCallback}\n\n\n// WEBPACK FOOTER //\n// ./src/module/index.js","import {useEffect} from 'react'\nimport useFetchCallback from \"./useFetchCallback\"\n\nconst useFetchEffect = (fn) => {\n\n  const result = useFetchCallback(fn, {defaultLoading: true})\n\n  const {callback} = result\n\n  useEffect(() => {\n    callback()\n    return () => {\n      callback.abort()\n    }\n  }, [callback])\n\n  return result\n\n}\n\nexport default useFetchEffect\n\n\n// WEBPACK FOOTER //\n// ./src/module/useFetchEffect.js","const createResource = ({loading, error, data}) => {\n  return {\n    loading,\n    error,\n    data,\n    [Symbol.iterator]: function* () {\n      yield this['loading']\n      yield this['error']\n      yield this['data']\n    }\n  }\n}\n\nexport default createResource\n\n\n// WEBPACK FOOTER //\n// ./src/module/createResource.js","const createResult = ({resource, callback, promise} = {}) => {\n  return {\n    resource,\n    callback,\n    promise,\n    [Symbol.iterator]: function* () {\n      yield this['resource']\n      yield this['callback']\n      yield this['promise']\n    }\n  }\n}\n\nexport default createResult\n\n\n// WEBPACK FOOTER //\n// ./src/module/createResult.js"],"sourceRoot":""}